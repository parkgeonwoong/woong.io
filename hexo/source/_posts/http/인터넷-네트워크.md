---
title: 1. 인터넷 네트워크
date: 2022-01-25 14:52:57
tags:
toc: true
categories:
  - http
---

# 📌 인터넷 네트워크

- [📌 인터넷 네트워크](#-인터넷-네트워크)
- [정리](#정리)
- [✅ 인터넷 통신](#-인터넷-통신)
    - [🔸 인터넷에서 컴퓨터 둘은 어떻게 통신할까?](#-인터넷에서-컴퓨터-둘은-어떻게-통신할까)
- [✅ IP (인터넷 프로토콜)](#-ip-인터넷-프로토콜)
    - [🔸 인터넷 프로토콜 역할](#-인터넷-프로토콜-역할)
    - [🔸 IP 프로토콜의 한계](#-ip-프로토콜의-한계)
- [✅ TCP, UDP](#-tcp-udp)
    - [🔸 인터넷 프로토콜 스택의 4계층](#-인터넷-프로토콜-스택의-4계층)
  - [🔹 TCP 특징](#-tcp-특징)
    - [🔸 연결 지향](#-연결-지향)
    - [🔸 데이터 전달 보증](#-데이터-전달-보증)
    - [🔸 순서 보장](#-순서-보장)
    - [🔸 UDP 특징](#-udp-특징)
- [✅ PORT](#-port)
- [✅ DNS (Domain Name System)](#-dns-domain-name-system)

  <br>

이미지 참고: [https://velog.io/@dnstlr2933/HTTP-웹-기본학습](https://velog.io/@dnstlr2933/HTTP-%EC%9B%B9-%EA%B8%B0%EB%B3%B8%ED%95%99%EC%8A%B5)

# 정리

```markdown
# 복잡한 인터넷 망을 메시지 보내기 위해서

1. 인터넷 프로토콜 (IP)가 존재
   -> 하지만 ip만으로는 메시지가 도착했는지, 순서가 꼬일수도 해결책은?

2. TCP 프로토콜이 해결

- UDP는 IP랑 똑같은데 PORT 정도만 추가되는 백지 + 애플리케이션 확장 기능

3. PORT = 같은 IP에서 동작하는 애플리케이션을 구분

4. IP는 변하기 쉽고 외우기 어려운데 도메인명을 등록해 쉽게 관리
```

<br>

<!-- more -->

# ✅ 인터넷 통신

### 🔸 인터넷에서 컴퓨터 둘은 어떻게 통신할까?

![](/images/http/http.PNG)

[https://velog.io/@dnstlr2933/HTTP-웹-기본학습](https://velog.io/@dnstlr2933/HTTP-%EC%9B%B9-%EA%B8%B0%EB%B3%B8%ED%95%99%EC%8A%B5)

➡️ 복잡한 인터넷 망을 두고 클라이언트끼리 통신을 주고받을 수 있는 이유

`IP 인터넷 프로토콜`

<br>

# ✅ IP (인터넷 프로토콜)

- 우선적으로 보내고자하는 내 클라이언트가 IP주소를 부여받아야 하고, 받고자하는 상대방도 IP주소가 있어야한다

1. IP 주소가 부여받아야 한다.
2. 그리고 나서 출발 주소, 목적 주소를 알고 메시지를 인터넷에 던진다
3. 노드로 연결된 인터넷끼리 주고 받다가 맞는 IP에 보냄

<br>

### 🔸 인터넷 프로토콜 역할

- 지정한 IP 주소에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달

- IP 패킷 정보 → 출발지 IP, 목적지 IP, 기타

하지만 패킷만으로는 한계가 있다

<br>

### 🔸 IP 프로토콜의 한계

- 비연결성
  - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- 비 신뢰성
  - 중간에 패킷이 사라지면?
  - 패킷이 순서대로 안오면?
- 프로그램 구분
  - 같은 ip를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?

➡️ 이런 한계를 해결하기 위해 `TCP / UDP`가 등장

<br>

# ✅ TCP, UDP

### 🔸 인터넷 프로토콜 스택의 4계층

- 애플리케이션 계층 - HTTP, FTP
- 전송 계층 - TCP, UDP
- 인터넷 계층 - IP
- 네트워크 인터페이스 계층

![](/images/http/http1.png)

[https://velog.io/@dnstlr2933/HTTP-웹-기본학습](https://velog.io/@dnstlr2933/HTTP-%EC%9B%B9-%EA%B8%B0%EB%B3%B8%ED%95%99%EC%8A%B5)

하나하나 봐보면

- IP 패킷 정보 → 출발지 ip, 목적지 ip

패킷 = 패키지 + 버켓의 합성어, 즉 담는 공간이라 보자

- TCP/IP 패킷 정보 → **ip 패킷 외에도 출발지, 목적지 PORT, 전송제어, 순서, 검증 정보**

![](/images/http/http2.png)

<br>

## 🔹 TCP 특징

전송 제어 프로토콜 - Transmission Control Protocol

- 연결 지향 - TCP 3-way handshake (가상연결)
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜
- 대부분의 애플리케이션에서 TCP를 사용

결국 이러한 특징들은 TCP에서 전송 제어, 순서등에서 처리하기에 가능한 특징들이다

특징을 살펴보면

<br>

### 🔸 연결 지향

![](/images/http/http3.png)

- 클라이언트와 서버가 서로 SYN 과 ACK를 보냄으로 서로를 확인하고 → 데이터를 전송

### 🔸 데이터 전달 보증

![](/images/http/http4.png)

### 🔸 순서 보장

![](/images/http/http5.png)

- 패킷2가 와야하는데 패킷3이 왔네? → 뒤에 전부 버리고 다시 패킷2 부터 요청

<br>

### 🔸 UDP 특징

→ `PORT` 하나의 ip에서 여러 어플리케이션을 분리하는 것

사용자 데이터그램 프로토콜(User Datagram Protocol)

- 하얀 도화지에 비유(기능이 거의 없음)
- 연결지향 - TCP 3 way handshake X
- 데이터 전달 보증 X
- 순서 보장 X
- 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름
- 정리
  - IP와 거의 같다. +PORT +체크섬 정도만 추가
  - 애플리케이션에서 추가 작업 필요

➡️ UDP를 왜 쓰는가?

- TCP는 최적화가 어렵다. UDP는 아무것도 없기에 직접 만들어 사용

<br>

# ✅ PORT

➡️ 한번에 둘 이상 연결해야 하면 어떻게 할까?

IP패킷들이 서버에서 클라이언트로 들어올텐데 이때 어떻게 해당 패킷들을 구별해서 필요한 프로그램에게 전달할 것인가?

→ `포트번호`를 부여

![](/images/http/http6.png)

- TCP에서 패킷에 출발지의 PORT번호 + 도착지의 PORT번호 정보를 담는다
- 사실상 패킷 → TCP/IP 패킷으로 구성
- **같은 IP내에서 프로세스를 구분**하기 위해 PORT를 사용하는 것
- 비유 → IP : 아파트 , PORT : 동, 호수 개념

위 그림에 맞게 설명 하면

1. 클라이언트 IP 주소로 패킷구성(ip, port)
2. 웹 브라우저 요청으로 서버에 도착 port는 80
3. 서버에서 패킷을 열어보니 ip주소와 port를 보고 10010 포트인걸 보니 웹브라우저구나 생각

<br>

# ✅ DNS (Domain Name System)

➡️ IP의 문제점

- IP는 기억하기 어렵다
- IP는 변경될 수 있다

이를 해결하기 위해 DNS이 탄생

- 전화번호부 같은
- 도메인 명을 IP주소로 변환 (이름 - 번호)

설명하자면

1. 도메인 명을 사고 IP주소를 등록
2. 클라에서 해당 도메인명으로 접근
3. DNS서버가 등록된 도메인명의 IP주소를 반환
4. 클라는 반환받은 IP주소를 이용해서 서버에 접속

→ 결국 IP주소를 외울 필요 없고, 추후에 IP주소가 변경되더라도 DNS서버에 등록된 IP주소만 변경하면 DNS는 변경되지 않는다
